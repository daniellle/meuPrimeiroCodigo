<ng2-toasty></ng2-toasty>
<app-bloqueio></app-bloqueio>
<p class="titulo-pagina">
    {{ title }}
</p>

<div class="container-form" [ngClass]="{ divDis : modoConsulta }">

    <form [formGroup]="form">
        <div class="row">

            <div class="form-group col-md-4" [ngClass]="{ divDis :  modoConsulta }">
                <div class="md-container">
                    <md-select formControlName="categoria" id="categoria" placeholder="{{ 'app_rst_labels_categoria' | recurso }}"
                        appFormularioCamposErro (change)="onChangeCategoria()">
                        <md-option>
                            <option value=undefined>{{ 'app_rst_labels_selecione' | recurso }}</option>
                        </md-option>
                        <md-option *ngFor='let c of listCategorias' [value]="c.id">
                            {{c.descricao}}
                        </md-option>
                    </md-select>
                </div>
            </div>

        </div>

    </form>

</div>

<div class="container-form" [ngClass]="{ divDis : modoConsulta }" *ngIf="showFormInstalacoesFisicas()">

    <form>

        <div *ngFor="let instFis of listInstalacoesFisicasSave; let index = index;">

            <div class="row">

                <div class="form-group col-md-2" [ngClass]="{ divDis :  modoConsulta }">
                    <label>{{instFis.uatInstalacaoFisicaAmbiente.descricao}}</label>
                </div>

                <div class="form-group col-md-2" [ngClass]="{ divDis :  modoConsulta }">
                    <md-input-container [floatPlaceholder]="true">
                        <input mdInput placeholder="{{ 'app_rst_labels_quantidade' | recurso }}" type="number" min="0"
                            name="{{instFis.uatInstalacaoFisicaAmbiente.descricao}}-quantidade-{{index}}" [(ngModel)]="listInstalacoesFisicasSave[index].quantidade"
                            class="form-control" />
                    </md-input-container>
                </div>

                <div class="form-group col-md-2" [ngClass]="{ divDis :  modoConsulta }">
                    <md-input-container [floatPlaceholder]="true">
                        <input mdInput placeholder="{{ 'app_rst_labels_area_m2' | recurso }}" type="number" min="0" name="{{instFis.uatInstalacaoFisicaAmbiente.descricao}}-area-{{index}}"
                            [(ngModel)]="listInstalacoesFisicasSave[index].area" class="form-control" />
                    </md-input-container>
                </div>

                <div class="form-group col-md-2" [ngClass]="{ divDis :  modoConsulta}" style="cursor: pointer;">
                        <a (click)="duplicarCampo(index)"><span class="fa fa-copy fa-2x" aria-hidden="true" style="color: #3fc2f8;"></span></a>
                </div>

            </div>

        </div>

    </form>


    <div class="btn-rodape-acoes space-up">
        <button type="button " class="btn-rodape btn btn-primary btn-cadastro " *ngIf="!modoConsulta" (click)="salvar()">
            {{'app_rst_btn_salvar' | recurso}}
        </button>
    </div>

</div>
