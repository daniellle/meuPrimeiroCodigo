<ng2-toasty></ng2-toasty>
<app-bloqueio></app-bloqueio>

<p class="titulo-pagina">
    {{ title }}
</p>

<div class="container-form" *ngIf="hasPermissaoCadastrar()">
    <form *ngIf="!modoConsulta" class="float-label">
        <div class="row">
            <div class="form-group col-md-8">
                <md-input-container [floatPlaceholder]="true">
                    <input mdInput [(ngModel)]="filtro.turno" name="turno" id="turno" appFormularioCamposErro placeholder="{{ 'app_rst_labels_turno' | recurso }}" type="text" maxlength="50" />
                </md-input-container>
            </div>
            <div class="form-group col-md-3">
                <md-input-container [floatPlaceholder]="true">
                    <input mdInput [(ngModel)]="filtro.qtdHoras" name="qtdHoras" id="qtdHoras" appFormularioCamposErro placeholder="{{ 'app_rst_labels_horas_semanais' | recurso }}" type="text" maxlength="10" />
                </md-input-container>
            </div>
        </div>
    </form>
</div>

<div class="btn-filter-pesquisar space-up" *ngIf="hasPermissaoCadastrar()">
    <button type="button" class="btn btn-primary" (click)="pesquisarJornada();">{{ 'app_rst_btn_pesquisar' | recurso }}</button>
</div>

<div class="container-form space-up" *ngIf="!isListaVazia()">
    <div class="grid-pesquisa">
        <table class="table table-responsive table-hover">
            <thead>
                <tr>
                    <th class="label" style="width: 10%;">&nbsp;</th>
                    <th class="label"><span>{{ 'app_rst_labels_turno' | recurso }}</span></th>
                    <th class="label" style="width: 15%;"><span>{{ 'app_rst_labels_horas_semanais' | recurso }}</span></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of jornadas; let i = index">
                    <td class="text-center">
                        <fieldset>
                            <md-checkbox [(ngModel)]="checks[item.id]" name="rdoLista" (change)="selectDeselectJornada(item, $event, item.id)" class="radio-tabela-pesquisa"></md-checkbox>
                        </fieldset>
                    </td>
                    <td class="col-nome col-quebra">&nbsp;{{item.descricao}}</td>
                    <td>&nbsp;{{item.qtdHoras}}</td>

                </tr>
            </tbody>
        </table>
        <div class="btn-paginacao">
            <pagination [firstText]="paginacao.textPrimeiro" [lastText]="paginacao.textUltimo" [nextText]="paginacao.textProximo" [previousText]="paginacao.textAnterior" [totalItems]="paginacao.totalItens" [(ngModel)]="paginacao.pagina" [itemsPerPage]="paginacao.qtdRegistro"
                (numPages)="paginacao.numPages = $event" (pageChanged)="pageChanged($event)" [maxSize]="paginacao.maxSize" class="pagination-sm justify-content-center" [align]="true" [boundaryLinks]="true" [rotate]="false"></pagination>
        </div>
    </div>
</div>

<div class="btn-filter-pesquisar space-up" *ngIf="!isListaVazia()">
    <button type="button" class="btn btn-primary" (click)="add();">{{ 'app_rst_btn_salvar' | recurso }}</button>
</div>

<div class="container-form space-up">
    <div>
        <div class="container-subtitulo">
            <p>Jornadas Adicionadas</p>
        </div>
        <div *ngIf="isEmpty(empresasJornadas)" class="row">
            <div class="form-group col-md-12">
                {{ 'app_rst_msg_nenhum_registro_adicionado' | recurso }}
            </div>
        </div>
        <div *ngIf="isNotEmpty(empresasJornadas)">
            <table class="table table-responsive table-hover">
                <thead>
                    <tr>
                        <th class="label"><span>{{ 'app_rst_labels_turno' | recurso }}</span></th>
                        <th class="label" style="width: 15%;"><span>{{ 'app_rst_labels_horas_semanais' | recurso }}</span></th>
                        <th class="label" style="width: 10%;" *ngIf="hasPermissaoDesativar()">&nbsp;</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of empresasJornadas">
                        <td class="col-nome col-quebra">&nbsp;{{item.jornada.descricao}}</td>
                        <td>&nbsp;{{item.jornada.qtdHoras}}</td>
                        <td class="text-center" *ngIf="hasPermissaoDesativar()">
                            <button class="btn-link" (click)="desativarEmpresaJornada(item)"><img class="lixo" src="assets/img/trash.svg" alt="Excluir"></button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="btn-paginacao" *ngIf="isNotEmpty(empresasJornadas)">
                <pagination [firstText]="paginacaoEmpresaJornada.textPrimeiro" [lastText]="paginacaoEmpresaJornada.textUltimo" [nextText]="paginacaoEmpresaJornada.textProximo" [previousText]="paginacaoEmpresaJornada.textAnterior" [totalItems]="paginacaoEmpresaJornada.totalItens"
                    [(ngModel)]="paginacaoEmpresaJornada.pagina" [itemsPerPage]="paginacaoEmpresaJornada.qtdRegistro" (numPages)="paginacaoEmpresaJornada.numPages = $event" (pageChanged)="pageChangedJornadaEmpresa($event)" [maxSize]="paginacaoEmpresaJornada.maxSize"
                    class="pagination-sm justify-content-center" [align]="true" [boundaryLinks]="true" [rotate]="false"></pagination>
            </div>
        </div>
    </div>
</div>
<div class="btn-rodape-acoes space-up">
    <button type="button" class="btn btn-secondary btn-cadastro" (click)="voltar();">{{ 'app_rst_btn_voltar' | recurso }}</button>
</div>