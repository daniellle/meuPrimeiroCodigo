"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Template_1 = require("../am/Template");
var AdlDeserializer_1 = require("../parser/AdlDeserializer");
var TemplateDeserializer;
(function (TemplateDeserializer) {
    function deserialize(input) {
        var adls = input.split(/(?:\r|\n)+ *\-{2,} *(?:\r|\n)+/);
        var result = adls.map(function (adl) {
            return AdlDeserializer_1.AdlDeserializer.deserialize(adl);
        });
        return buildTemplate(result);
    }
    TemplateDeserializer.deserialize = deserialize;
    function buildTemplate(achetypes) {
        var template = new Template_1.Template();
        Object.assign(template, achetypes[0]);
        template.overlays = achetypes.slice(1);
        return template;
    }
})(TemplateDeserializer = exports.TemplateDeserializer || (exports.TemplateDeserializer = {}));
//# sourceMappingURL=TemplateDeserializer.js.map