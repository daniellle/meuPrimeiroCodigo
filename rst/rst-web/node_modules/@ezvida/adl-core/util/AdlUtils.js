"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var _ = require("lodash");
var RmPath_1 = require("../flattener/RmPath");
var AmQuery_1 = require("../query/AmQuery");
var AdlUtils;
(function (AdlUtils) {
    AdlUtils.createFlatArchetypeClone = function (source) {
        if (!source.isDifferential) {
            throw new Error('source archetype must be a differential archetype');
        }
        var result = _.cloneDeep(source);
        result.isDifferential = false;
        return result;
    };
    AdlUtils.getCRoot = function (source, path) {
        var segments = RmPath_1.RmPath.VALUE_OF(path).segments();
        var root = AmQuery_1.AmQuery.FIND(source, segments[0].toString());
        if (root && root.rmType === 'CArchetypeRoot') {
            return root.archetypeRef;
        }
        return null;
    };
})(AdlUtils = exports.AdlUtils || (exports.AdlUtils = {}));
//# sourceMappingURL=AdlUtils.js.map